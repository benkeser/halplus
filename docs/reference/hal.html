<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>hal — hal • hal</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">hal</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/benkeser/halplus">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>hal</h1>
    </div>

    
    <p>The highly adaptive lasso fitting function. This function takes a matrix of predictor values
(which can be binary or continuous) and converts it into a set of indicator basis functions
that perfectly fit the data. The function then uses cross-validated lasso (via the <code>glmnet</code>
package) to select basis functions. The resulting fit is called the highly adaptive lasso.
The process of creating the indicator basis functions can be extremely time and memory intensive
as it involves creating n(2^d - 1) basis functions, where n is the number of observations
and d the number of covariates. The function also must subsequently search over basis functions
for those that are duplicated and store the results. Future implementations will attempt to
streamline this process to the largest extent possible; however, for the time being implementing
with values of n and d such that n(2^d - 1) &gt; 1e7 is not recommended.</p>

    <p>Model fitting function for the highly adaptive LASSO estimator.</p>
    

    <pre><span class='fu'>hal</span>(<span class='no'>Y</span>, <span class='no'>X</span>, <span class='kw'>newX</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='fu'>gaussian</span>(), <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>obsWeights</span> <span class='kw'>=</span> <span class='fu'>rep</span>(<span class='fl'>1</span>, <span class='fu'>length</span>(<span class='no'>Y</span>)), <span class='kw'>sparseMat</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>nfolds</span> <span class='kw'>=</span> <span class='fu'>ifelse</span>(<span class='fu'>length</span>(<span class='no'>Y</span>) <span class='kw'>&lt;=</span> <span class='fl'>100</span>, <span class='fl'>20</span>, <span class='fl'>10</span>), <span class='kw'>nlambda</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>minVars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>maxDim</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>useMin</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>debug</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='fu'>hal</span>(<span class='no'>Y</span>, <span class='no'>X</span>, <span class='kw'>newX</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='fu'>gaussian</span>(), <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>obsWeights</span> <span class='kw'>=</span> <span class='fu'>rep</span>(<span class='fl'>1</span>, <span class='fu'>length</span>(<span class='no'>Y</span>)), <span class='kw'>sparseMat</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>nfolds</span> <span class='kw'>=</span> <span class='fu'>ifelse</span>(<span class='fu'>length</span>(<span class='no'>Y</span>) <span class='kw'>&lt;=</span> <span class='fl'>100</span>, <span class='fl'>20</span>, <span class='fl'>10</span>), <span class='kw'>nlambda</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>minVars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>maxDim</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>useMin</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>debug</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>Y</dt>
      <dd>A <code>numeric</code> of outcomes</dd>
      <dt>X</dt>
      <dd>A <code>data.frame</code> of predictors</dd>
      <dt>newX</dt>
      <dd>Optional <code>data.frame</code> on which to return predicted values</dd>
      <dt>family</dt>
      <dd>Statistical family: Gaussian and Binomial have been tested.</dd>
      <dt>verbose</dt>
      <dd>A <code>boolean</code> indicating whether to print output on functions progress</dd>
      <dt>obsWeights</dt>
      <dd>Optional <code>vector</code> of observation weights to be passed to <code>cv.glmnet</code></dd>
      <dt>sparseMat</dt>
      <dd>Use an implementation based on sparse matrices or normal
(i.e., non-sparse) matrices. The normal matrix implementation is old and
not guaranteed to work correctly (will likely be deprecated soon).</dd>
      <dt>nfolds</dt>
      <dd>Number of CV folds passed to <code>cv.glmnet</code></dd>
      <dt>nlambda</dt>
      <dd>Number of lambda values to search across in <code>cv.glmnet</code></dd>
      <dt>minVars</dt>
      <dd>The minimum number of variables for which coefficients are to
be estimated; this is used to perform variable filtering prior to fitting
the LASSO model via cross-validation.</dd>
      <dt>maxDim</dt>
      <dd>The maximum tolerable dimension of the matrix of variables X.
If the dimension of the supplied matrix X exceeds this value, then a small
number of relevant variables are automatically selected for use with the
cross-validated LASSO estimator. This overrides <code>minVars</code>.</dd>
      <dt>useMin</dt>
      <dd>Option passed to <code>cv.glmnet</code>, use minimum risk lambda or 1se lambda (more
penalization)</dd>
      <dt>debug</dt>
      <dd>For benchmarking. Setting to <code>TRUE</code> will run garbage collection to
improve the accuracy of memory monitoring</dd>
      <dt>parallel</dt>
      <dd>A boolean indicating whether to use a parallel backend, if possible</dd>
      <dt>...</dt>
      <dd>Not currently used</dd>
      <dt>Y</dt>
      <dd>outcome</dd>
      <dt>X</dt>
      <dd>data</dd>
      <dt>newX</dt>
      <dd>New data to apply the model fit and generate predictions.</dd>
      <dt>verbose</dt>
      <dd>Set to <code>TRUE</code> for more detailed output.</dd>
      <dt>obsWeights</dt>
      <dd>Weights to be given to observations.</dd>
      <dt>nfolds</dt>
      <dd>Number of cross-validation folds, passed directly to
<code>glmnet::cv.glmnet</code>.</dd>
      <dt>nlambda</dt>
      <dd>Number of lambda values to test in fitting the LASSO model,
passed directly to <code>glmnet::cv.glmnet</code>.</dd>
      <dt>useMin</dt>
      <dd>option passed directly to <code>glmnet::cv.glmnet</code>: whether to
use the value of lambda that minimimzes the mean cross-validated error or
the largest value of lambda such that error is within 1 standard error of
the minimum (consult help for <code>glmnet::cv.glmnet</code> for more info).</dd>
      <dt>debug</dt>
      <dd>Set to <code>TRUE</code> to run garbage collection (<code>gc</code>), to
improve the accuracy of memory monitoring.</dd>
      <dt>parallel</dt>
      <dd>Use a registered parallel backend if possible.</dd>
      <dt>...</dt>
      <dd>Any extra arguments (unused).</dd>
    </dl>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
                </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by David Benkeser, Mark van der Laan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
